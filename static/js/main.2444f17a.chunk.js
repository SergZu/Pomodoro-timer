(this["webpackJsonppomodoro-app"]=this["webpackJsonppomodoro-app"]||[]).push([[0],[,,,,,,,,function(e){e.exports=JSON.parse('{"b":{"minSessionTime":60,"maxSessionTime":5400,"minBreakTime":60,"maxBreakTime":3600,"minPeriodNumber":4,"maxPeriodNumber":10},"a":{"currentTime":1800,"sessionTime":1800,"breakTime":300,"currentPeriod":1,"maxPeriods":6,"isPaused":false,"timerId":""}}')},,,,,function(e,t,n){e.exports=n(28)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),o=n.n(i),s=(n(18),n(11)),c=n(5),l=n(6),m=n(1),u=n(2),d=n(4),h=n(3),p=(n(19),n(20),function(e){var t=e.isActive?"point-active":"point";return r.a.createElement("div",{className:t})}),f=function(e){return r.a.createElement("ul",{className:"periodDisplay-box"},function(e,t){for(var n=[],a=1;a<=t;a++){var i=a===e,o=r.a.createElement("li",{key:a.toString()},r.a.createElement(p,{isActive:i}));n.push(o)}return n}(e.currentPeriod,e.maxPeriods))},b=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getFormatedTime=function(e){var t=Math.floor(e/60),n=e-60*t;return"".concat(t<10?"0".concat(t):t," : ").concat(n<10?"0".concat(n):n)},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(){document.title="".concat(this.getFormatedTime(this.props.currentTime)," Pomodoro Timer App")}},{key:"render",value:function(){var e=this.props.currentTime;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"display-block"},this.getFormatedTime(e)),r.a.createElement(f,{currentPeriod:this.props.currentPeriod,maxPeriods:this.props.maxPeriods}))}}]),n}(r.a.Component);n(21),n(22);function g(e){var t=!!e.startFlag||e.isPaused;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"timer-panel-control"},"Now is",r.a.createElement("span",null,e.currentPeriod%2?"FOCUS":"BREAK"),"time"),r.a.createElement("div",{className:"timer-panel-control-buttons"},r.a.createElement("button",{className:"control-panel-btn",onClick:function(t){return e.onChangePeriod(t,!0)}},r.a.createElement("span",{role:"img","aria-label":"previous"},"\u2b05")),t?r.a.createElement("button",{className:"control-panel-btn",onClick:e.onStartHandler}," ",r.a.createElement("span",{role:"img","aria-label":"play"},"\u25b6")):r.a.createElement("button",{className:"control-panel-btn",onClick:e.onStopHandler}," ",r.a.createElement("span",{role:"img","aria-label":"pause"},"\u2016")),r.a.createElement("button",{className:"control-panel-btn",onClick:e.onResetHandler}," ",r.a.createElement("span",{role:"img","aria-label":"reset"},"\u274c")),r.a.createElement("button",{className:"control-panel-btn",onClick:function(t){return e.onChangePeriod(t,!1)}},r.a.createElement("span",{role:"img","aria-label":"next"},"\u27a1"))))}n(23);var v=n(30);function P(e){return r.a.createElement("div",{className:"timer-preference-block"},r.a.createElement("button",{onClick:e.handler[0],className:"timer-preference-block-btn"},"-"),r.a.createElement("span",{className:"timer-preference-block-display"},e.value),r.a.createElement("button",{onClick:e.handler[1],className:"timer-preference-block-btn"},"+"))}var E=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).changeSession=function(e){return function(t){return a.props.onChangePeriodTime(t,["sessionTime",Number(e)])}},a.changeBreak=function(e){return function(t){return a.props.onChangePeriodTime(t,["breakTime",Number(e)])}},a.changePeriodCount=function(e){return function(t){return a.props.onChangePeriodNumber(t,e)}},a.onToggleHandler=function(){a.state.isOpen?a.props.onStartHandler():a.props.onStopHandler(),a.setState((function(e){return{isOpen:!e.isOpen}}))},a.onKeyPressed=function(e){13===e.keyCode&&a.onToggleHandler()},a.state={isOpen:!1},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.isOpen?"timerSettings__form form-opened":"timerSettings__form";return r.a.createElement("div",{className:"timerSettings"},r.a.createElement("h3",{className:"timerSettings-toggle",onClick:this.onToggleHandler,tabIndex:0,onKeyDown:this.onKeyPressed}," Settings "),r.a.createElement(v.a,{in:this.state.isOpen,timeout:250,classNames:"SettingsBox",unmountOnExit:!0},r.a.createElement("div",{className:e},r.a.createElement("div",{className:"timer-Settings-row"},r.a.createElement("h4",null,"Session time"),r.a.createElement(P,{handler:[this.changeSession(-60),this.changeSession(60)],value:Math.floor(this.props.sessionTime/60)})),r.a.createElement("div",{className:"timer-Settings-row"},r.a.createElement("h4",null,"Break time"),r.a.createElement(P,{handler:[this.changeBreak(-60),this.changeBreak(60)],value:Math.floor(this.props.breakTime/60)})),r.a.createElement("div",{className:"timer-Settings-row"},r.a.createElement("h4",null,"Number of periods"),r.a.createElement(P,{handler:[this.changePeriodCount(-2),this.changePeriodCount(2)],value:this.props.maxPeriods/2})))))}}]),n}(r.a.Component);function T(e){return r.a.createElement("div",{className:"timer-panel"},r.a.createElement(g,{currentPeriod:e.currentPeriod,onStartHandler:e.onStartHandler,isPaused:e.isPaused,onStopHandler:e.onStopHandler,onResetHandler:e.onResetHandler,startFlag:e.startFlag,onChangePeriod:e.onChangePeriod}),r.a.createElement(E,{onChangePeriodTime:e.onChangePeriodTime,sessionTime:e.sessionTime,breakTime:e.breakTime,onChangePeriodNumber:e.onChangePeriodNumber,maxPeriods:e.maxPeriods,onStartHandler:e.onStartHandler,onStopHandler:e.onStopHandler}))}n(26);var N=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.percent<50;return r.a.createElement("div",{className:"main-block"},r.a.createElement("div",{className:"circle-block"},r.a.createElement("div",{className:"clip",id:"section-1"},r.a.createElement("div",{className:"item"})),function(e,t){if(e){var n={backgroundColor:"#d1f9e1",transform:"rotate(".concat(180+3.6*t,"deg)")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"clip",id:"section-2"},r.a.createElement("div",{className:"item"})),r.a.createElement("div",{className:"clip",id:"section-3"},r.a.createElement("div",{className:"item",style:Object(l.a)({},n)})))}var a={backgroundColor:"#d1f9e1",transform:"rotate(".concat(3.6*t,"deg)")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"clip",id:"section-2"},r.a.createElement("div",{className:"item",style:Object(l.a)({},a)})),r.a.createElement("div",{className:"clip",id:"section-3"},r.a.createElement("div",{className:"item"})))}(e,this.props.percent),r.a.createElement("div",{className:"center-section"},r.a.createElement("div",{className:"content-section"},this.props.children))))}}]),n}(r.a.PureComponent),k=["440.00","392.00","246.00","196.00","493.00","440.00","293.00","261.00"],S=function(){function e(t){Object(m.a)(this,e),this.context=t}return Object(u.a)(e,[{key:"init",value:function(){this.oscillator=this.context.createOscillator(),this.gainNode=this.context.createGain(),this.oscillator.connect(this.gainNode),this.gainNode.connect(this.context.destination),this.oscillator.type="sine"}},{key:"play",value:function(e,t){this.init(),this.oscillator.frequency.value=e,this.gainNode.gain.setValueAtTime(1,this.context.currentTime),this.oscillator.start(t),this.stop(t)}},{key:"stop",value:function(e){this.gainNode.gain.exponentialRampToValueAtTime(.03,e+1),this.oscillator.stop(e+1)}}]),e}(),C=!1===(window.AudioContext||window.webkitAudioContext)?function(){console.info("Web Audio API not supported")}:function(){var e=new(window.AudioContext||window.webkitAudioContext),t=new S(e),n=e.currentTime;k.forEach((function(e){t.play(e,n),n+=.5}))},O=n(8),x=(n(27),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).componentWillUnmout=function(){a.state.timerId&&clearInterval(a.state.timerId)},a.tick=function(){a.setState((function(e){return{currentTime:e.currentTime-1}}))},a.stopTimer=function(){clearInterval(a.state.timerId),a.setState({timerId:"",isPaused:!0})},a.runTimer=function(e){a.setState({timerId:e,isPaused:!1})},a.reset=function(){a.state.timerId&&clearInterval(a.state.timerId),a.setState(Object(l.a)({},O.a))},a.changePeriodTime=function(e,t){var n="min".concat(e[0].toUpperCase()).concat(e.slice(1)),r="max".concat(e[0].toUpperCase()).concat(e.slice(1));if(t<0&&a.state[e]===a.state[n]||t>0&&a.state[e]===a.state[r])return null;a.setState((function(n){var r,i=n[e]+t;return a.state.timerId&&clearInterval(a.state.timerId),r={},Object(c.a)(r,e,i),Object(c.a)(r,"currentTime","sessionTime"===e?i:n.sessionTime),Object(c.a)(r,"timerId",""),Object(c.a)(r,"isPaused",!1),Object(c.a)(r,"currentPeriod",1),r}))},a.periodSwitch=function(e,t,n){if(a.stopTimer(),a.state.currentPeriod===a.state.maxPeriods)return n&&C(),a.setState((function(e){return{currentPeriod:1,currentTime:e.sessionTime}})),null;if(e&&1===a.state.currentPeriod)return null;var r=e?-1:1;n&&C(),setTimeout((function(){a.setState((function(e){var t=!!(e.currentPeriod%2);return{currentPeriod:e.currentPeriod+r,currentTime:t?e.breakTime:e.sessionTime}})),n&&a.onStartHandler()}),t)},a.changePeriodsMaxNumber=function(e){var t=a.state.maxPeriods+e;t>a.state.maxPeriodNumber||t<a.state.minPeriodNumber||(a.state.timerId&&clearInterval(a.state.timerId),a.setState((function(e){return{maxPeriods:t,timerId:"",isPaused:!1,currentPeriod:1,currentTime:e.sessionTime}})))},a.onStartHandler=function(){if(a.state.timerId&&!a.state.isPaused)return null;var e=setInterval((function(){0===a.state.currentTime?(clearInterval(e),a.setState({timerId:""}),a.periodSwitch(!1,4e3,!0)):a.tick()}),1e3);a.runTimer(e)},a.onStopHandler=function(){if(a.state.isPaused)return null;a.stopTimer()},a.onResetHandler=function(){a.reset()},a.onChangePeriodTime=function(e,t){var n=Object(s.a)(t,2),r=n[0],i=n[1];a.changePeriodTime(r,i)},a.onChangePeriodNumber=function(e,t){a.changePeriodsMaxNumber(t)},a.onChangePeriod=function(e,t){a.periodSwitch(t,100,!1)},a.onFocusClickHandler=function(e){var t=e.target.closest(".timerSettings-toggle")||e.target.closest("button");if(!t)return null;t.blur()},a.state=Object(l.a)(Object(l.a)({},O.b),O.a),a}return Object(u.a)(n,[{key:"render",value:function(){var e=!this.state.timerId&&!this.state.isPaused,t=r.a.createElement(T,{sessionTime:this.state.sessionTime,currentPeriod:this.state.currentPeriod,maxPeriods:this.state.maxPeriods,onChangePeriodTime:this.onChangePeriodTime,breakTime:this.state.breakTime,onChangePeriodNumber:this.onChangePeriodNumber,onStartHandler:this.onStartHandler,isPaused:this.state.isPaused,onStopHandler:this.onStopHandler,onResetHandler:this.onResetHandler,startFlag:e,onChangePeriod:this.onChangePeriod}),n=this.state.currentPeriod%2?Math.floor(this.state.currentTime/this.state.sessionTime*100):Math.floor(this.state.currentTime/this.state.breakTime*100);return r.a.createElement(N,{percent:100-n},r.a.createElement("div",{className:"App",onClick:this.onFocusClickHandler},r.a.createElement("header",{className:"App-header"},r.a.createElement(b,{currentTime:this.state.currentTime,currentPeriod:this.state.currentPeriod,maxPeriods:this.state.maxPeriods})),t))}}]),n}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.2444f17a.chunk.js.map